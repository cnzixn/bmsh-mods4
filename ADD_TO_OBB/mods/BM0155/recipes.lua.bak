--by : 小开心
--ps : 转载请注明出处
local GLOBAL = GLOBAL local Ingredient = GLOBAL.Ingredient local RECIPETABS = GLOBAL.RECIPETABS local DEPLOYMODE = GLOBAL.DEPLOYMODE local DEPLOYSPACING = GLOBAL.DEPLOYSPACING local TECH = GLOBAL.TECH local function OnlyDeployLand( pt, rot ) local x, y, z = pt:Get() return GLOBAL.TheWorld.Map:IsAboveGroundAtPoint(x, y, z, false) end local recipes = { { name = "industrialization_build_generator_log" , ingredients = { Ingredient("gears", 0x1), Ingredient("cutstone", 0x1), Ingredient("transistor", 0x2), }, tab = RECIPETABS.SCIENCE, level = TECH.SCIENCE_TWO, placer = "industrialization_build_generator_log_placer", atlas = "images/map_icons/industrialization_build_generator_log.xml", image = "industrialization_build_generator_log.tex", testfn = OnlyDeployLand }, { name = "industrialization_build_huabao_lamp" , ingredients = { Ingredient("cutstone", 0x1), Ingredient("transistor", 0x4), }, tab = RECIPETABS.SCIENCE, level = TECH.SCIENCE_TWO, placer = "industrialization_build_huabao_lamp_placer", atlas = "images/map_icons/industrialization_build_huabao_lamp.xml", image = "industrialization_build_huabao_lamp.tex", testfn = OnlyDeployLand }, { name = "industrialization_build_sewing_machine" , ingredients = { Ingredient("boards", 0x2), Ingredient("rope", 0x1), Ingredient("transistor", 0x2), }, tab = RECIPETABS.SCIENCE, level = TECH.SCIENCE_TWO, placer = "industrialization_build_sewing_machine_placer", atlas = "images/map_icons/industrialization_build_sewing_machine.xml", image = "industrialization_build_sewing_machine.tex", testfn = OnlyDeployLand }, } for k, v in ipairs(recipes) do AddRecipe(v.name, v.ingredients, v.tab or RecipeTab, v.level or TECH.NONE, v.placer, v.min_spacing, v.nounlock, v.numtogive, v.builder_tag, v.atlas, v.image, v.testfn, v.product, v.build_mode, v.build_distance) end 
